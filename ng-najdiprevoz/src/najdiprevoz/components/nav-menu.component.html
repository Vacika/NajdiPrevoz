<mat-toolbar class="nav-menu color-white">
	<mat-toolbar-row class='menu'>
		<div [routerLink]='"/"' class='link rounded'>
			<h1 class='inline-block'>{{'SITE_TITLE'|translate}}</h1>
			<mat-icon class="ignore-default-color">directions_car</mat-icon>
			<span class="menu-spacer"></span>
		</div>
		<div>
			<a [routerLink]="'/trips'" class="hide-on-mobile" mat-button>
				<mat-icon class="ignore-default-color">search</mat-icon>
				{{'FIND_TRIPS'|translate}} </a>
			<a [routerLink]="'/trips/new'" class="hide-on-mobile" mat-button>
				<mat-icon class="ignore-default-color">add_circle_outline</mat-icon>
				{{'PUBLISH_TRIP'|translate}} </a>

			<a *ngIf="authenticated" [routerLink]="'/notifications'" mat-icon-button>
				<mat-icon class='ignore-default-color'>notifications</mat-icon>
			</a>
			<span class="mat-button" mat-button>
       <img (click)="onFlagClick()"
						class="text-bottom px-15"
						src="../../assets/images/{{selectedLangControl.value}}.png">
        <mat-select
					#languageSelect
					[formControl]="selectedLangControl">
          <mat-option *ngFor="let language of languages"
											[value]="language">
            <img class="px-15" src='./../../assets/images/{{language}}.png'>{{language|uppercase}}
          </mat-option>
        </mat-select>
      </span>

			<button [matMenuTriggerFor]="menu"
							class="link remove-focus-border"
							mat-icon-button>
				<mat-icon class="ignore-default-color">menu</mat-icon>
			</button>
			<mat-menu #menu="matMenu" class="primary-dark-color-background">

				<span *ngIf="authenticated" style="display: flex; justify-content: center; padding: 1em;"><b>{{username}}</b></span>
				<hr *ngIf="authenticated" style="margin: 0; padding: 0;color: white;background: white;">
				<!-- Search Trips -->
				<button [routerLink]="'/trips'"
								class="link show-on-mobile-only"
								mat-menu-item>
					<mat-icon>search</mat-icon>
					<span>{{"FIND_TRIPS"| translate}}</span>
				</button>

				<!-- Publish Trip -->
				<button [routerLink]="'/trips/new'"
								class="link show-on-mobile-only"
								mat-menu-item>
					<mat-icon>add_circle_outline</mat-icon>
					<span>{{"PUBLISH_TRIP"| translate}}</span>
				</button>

				<!-- Register -->
				<button *ngIf="!authenticated"
								[routerLink]="'/register'"
								class="link"
								mat-menu-item>
					<mat-icon>create</mat-icon>
					<span>{{"REGISTER"| translate}}</span>
				</button>

				<!-- Login -->
				<button *ngIf="!authenticated"
								[routerLink]="'/login'"
								class="link"
								mat-menu-item>
					<mat-icon>login</mat-icon>
					<span>{{"LOGIN"| translate}}</span>
				</button>

				<!-- Control Panel -->
				<button *ngIf="isAdmin"
								[routerLink]="'/admin-panel'"
								class="link"
								mat-menu-item>
					<mat-icon>admin_panel_settings</mat-icon>
					<span>{{"ADMIN_PANEL"| translate}}</span>
				</button>

				<button *ngIf="authenticated"
								[routerLink]="'/control-panel'"
								class="link"
								mat-menu-item>
					<mat-icon>settings</mat-icon>
					<span>{{"CONTROL_PANEL"| translate}}</span>
				</button>

				<!-- Logout -->
				<button (click)="logout()"
								*ngIf="authenticated"
								[matTooltip]="'LOGOUT'|translate"
								mat-menu-item>
					<mat-icon>logout</mat-icon>
					<span>{{"LOGOUT"| translate}}</span>
				</button>
			</mat-menu>
		</div>
	</mat-toolbar-row>
</mat-toolbar>
